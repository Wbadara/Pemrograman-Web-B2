<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Pencarian Kode Pos Sederhana</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        padding-top: 50px;
    }
    .form-container {
        background: white;
        padding: 20px 30px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        width: 350px;
    }
    label {
        font-weight: bold;
        margin-top: 10px;
        display: block;
    }
    select, button {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }
    button {
        background-color: #4CAF50;
        color: white;
        cursor: pointer;
        margin-top: 15px;
        border: none;
    }
    button:hover {
        background-color: #45a049;
    }
    #kodeposOutput {
        margin-top: 15px;
        padding: 10px;
        background-color: #e9e9e9;
        border-radius: 4px;
    }
</style>
</head>
<body>

<div class="form-container">
    <h2>Pencarian Kode Pos Indonesia</h2>
    <form id="kodeposForm">
        <label for="provinsi">Provinsi:</label>
        <select id="provinsi" name="provinsi" required>
            <option value="">Pilih Provinsi</option>
        </select>
        <label for="kabupaten">Kabupaten/Kota:</label>
        <select id="kabupaten" name="kabupaten" required disabled>
            <option value="">Pilih Kabupaten/Kota</option>
        </select>
        <label for="kecamatan">Kecamatan:</label>
        <select id="kecamatan" name="kecamatan" required disabled>
            <option value="">Pilih Kecamatan</option>
        </select>
        <button type="submit">Cari Kode Pos</button>
    </form>
    <div id="kodeposOutput"></div>
</div>

<script>
// Data wilayah dan kode pos (contoh sederhana)
const dataWilayah = {
    "Jawa Timur": {
        "Malang": {
            "Singosari": "65153",
            "Kepanjen": "65163",
            "Blimbing": "65126"
        },
        "Surabaya": {
            "Wonokromo": "60241",
            "Sukolilo": "60111",
            "Rungkut": "60293"
        }
    },
    "Jawa Barat": {
        "Bandung": {
            "Coblong": "40133",
            "Sumur Bandung": "40113",
            "Buah Batu": "40266"
        },
        "Bekasi": {
            "Bekasi Selatan": "17148",
            "Bekasi Timur": "17113",
            "Bekasi Utara": "17121"
        }
    }
};

// Fungsi isi dropdown
function populateDropdown(selectId, options) {
    const select = document.getElementById(selectId);
    select.innerHTML = `<option value="">Pilih ${selectId.charAt(0).toUpperCase() + selectId.slice(1)}</option>`;
    options.forEach(opt => {
        const option = document.createElement("option");
        option.value = opt;
        option.textContent = opt;
        select.appendChild(option);
    });
}

// Inisialisasi provinsi
populateDropdown("provinsi", Object.keys(dataWilayah));

// Event ketika provinsi berubah
document.getElementById("provinsi").addEventListener("change", function() {
    const provinsi = this.value;
    const kabupatenSelect = document.getElementById("kabupaten");
    const kecamatanSelect = document.getElementById("kecamatan");
    kabupatenSelect.disabled = !provinsi;
    kecamatanSelect.disabled = true;
    document.getElementById("kodeposOutput").innerHTML = "";
    if(provinsi) {
        populateDropdown("kabupaten", Object.keys(dataWilayah[provinsi]));
    } else {
        kabupatenSelect.innerHTML = `<option value="">Pilih Kabupaten/Kota</option>`;
        kecamatanSelect.innerHTML = `<option value="">Pilih Kecamatan</option>`;
    }
});

// Event ketika kabupaten berubah
document.getElementById("kabupaten").addEventListener("change", function() {
    const provinsi = document.getElementById("provinsi").value;
    const kabupaten = this.value;
    const kecamatanSelect = document.getElementById("kecamatan");
    kecamatanSelect.disabled = !kabupaten;
    document.getElementById("kodeposOutput").innerHTML = "";
    if(kabupaten) {
        populateDropdown("kecamatan", Object.keys(dataWilayah[provinsi][kabupaten]));
    } else {
        kecamatanSelect.innerHTML = `<option value="">Pilih Kecamatan</option>`;
    }
});

// Event submit form
document.getElementById("kodeposForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const provinsi = document.getElementById("provinsi").value;
    const kabupaten = document.getElementById("kabupaten").value;
    const kecamatan = document.getElementById("kecamatan").value;
    const output = document.getElementById("kodeposOutput");

    if(provinsi && kabupaten && kecamatan) {
        const kodepos = dataWilayah[provinsi][kabupaten][kecamatan];
        output.innerHTML = `<strong>Kode Pos:</strong> ${kodepos} <br> <strong>Daerah:</strong> ${kecamatan}, ${kabupaten}, ${provinsi}`;
    } else {
        output.innerHTML = "Harap lengkapi semua pilihan.";
    }
});
</script>

</body>
</html>
